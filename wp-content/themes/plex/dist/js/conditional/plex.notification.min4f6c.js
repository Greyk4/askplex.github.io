!function(i,e){"use strict";var n={},t=PlexUtils.getCookieDomain(),o=i(".notification-bar.site-notif"),s=plex_l10n.notification,d=s.id,f=s.filters,r=s.end_time;n.init=function(){if(!n.isEnded()){if(n.isHidden())return void o.hide();if(o.length){var e=!0;if(i.each(f,function(i,n){switch(n){case"signed_in":e=Plex.isSignedIn();break;case"exclude_pp":var t=Plex.getAuthInfo();Plex.isSignedIn()&&(e=!t.subscription.active)}if(!e)return o.hide(),!1}),!e)return o.hide(),!1;o.slideDown(0,function(){n.show(i(this))})}}},n.show=function(e){e.show(),PlexSite.repositionHamburguerNav(!0,e[0].offsetHeight+15),e.on("click",".site-notif-close",function(){o.slideUp(),i(".icon-close").hide(),n.hide(),PlexSite.repositionHamburguerNav(!1,e[0].offsetHeight+15)})},n.hide=function(){var i=moment(),e=moment.unix(r),n=e.diff(i,"days");n=n>0?n:1,Cookies.set("plex_tv_notif",d,{domain:t,expires:n})},n.isHidden=function(){return void 0!==Cookies.getJSON("plex_tv_notif")&&d===Cookies.getJSON("plex_tv_notif")},n.isEnded=function(){return!!(r&&r<moment().unix())&&(Cookies.remove("plex_tv_notif",{domain:t}),!0)},i(document).ready(function(){n.init()})}(jQuery,window);