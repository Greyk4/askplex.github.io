"use strict";!function(e,t){"undefined"==typeof PlexConditionizr&&(t.PlexConditionizr=function(){var e={};return e.init=function(){conditionizr.add("retina",function(){return t.devicePixelRatio>=1.5}),conditionizr.add("chrome",function(){return!!t.chrome&&/google/i.test(navigator.vendor)}),conditionizr.add("safari",function(){return/Constructor/.test(t.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===(!e||e.pushNotification).toString()}(t.safari)}),conditionizr.add("firefox",function(){return"InstallTrigger"in t}),conditionizr.add("touch",function(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}),conditionizr.config({assets:plex_l10n.path_to_css,tests:{safari:["class"],chrome:["class"],firefox:["class"],retina:["class"],touch:["class"]}})},e}()),e(document).ready(function(){conditionizr.on("retina",function(){e(".conditionizr-style").each(function(t,n){var i=e(this).data("alt-retina-style");i&&e(this).attr("style",i)})}),e(".conditionizr-style").removeAttr("data-alt-retina-style")})}(jQuery,window),function(e,t){"undefined"==typeof PlexLanguage&&(t.PlexLanguage=function(){var n={},i="en_US";return n.init=function(){Transifex.live.onFetchLanguages(function(t){var n=e(".lang-selector #tip-languages");n.empty();for(var o=0;o<t.length;++o)if(!(!0!==plex_l10n.transifex.valid_languages&&plex_l10n.transifex.valid_languages.indexOf(t[o].code)<0)){var a=e("<a />"),r=plex_l10n.transifex.localized_urls[t[o].code];a.text(t[o].name).attr("href",r);var s=e("<li />");s.attr("data-code",t[o].code).attr("data-name",t[o].name).css("cursor","pointer").html(a),n.append(s)}e(".sel-language").html(Transifex.live.getLanguageName("en_US")),Transifex.live.onTranslatePage(function(t){e(".sel-language").html(Transifex.live.getLanguageName(t)),i=t})})},n.maybeRedirect=function(){var e=n.getSavedLang();if(!n.botCheck()&&e&&void 0===PlexUtils.getParam("langr")&&"en_US"!==e&&e!==Transifex.live.getSelectedLanguageCode()){var i=plex_l10n.transifex.localized_urls[e];if(void 0===i||!i)return void(Transifex.live.hasLanguageCode(e)||Cookies.remove("plex_tv_lang",{domain:PlexUtils.getCookieDomain()}));var o="?";void 0!==t.location.search&&t.location.search&&(o=t.location.search,o+="&"),o+="langr=1",void 0!==t.location.hash&&t.location.hash&&(o+=t.location.hash),i+=o,t.location.replace(i)}},n.getUserLang=function(){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage,t=n.getSavedLang();return t||"undefined"!=typeof Transifex&&(t=Transifex.live.normalizeLangCode(e)),t||"undefined"==typeof Transifex||(t=Transifex.live.getLanguageName("en_US")),t},n.getSavedLang=function(){var e=Cookies.get("plex_tv_lang");return!(null==e||!e)&&e},n.getSelectedLanguageCode=function(){try{var e=Transifex.live.getSelectedLanguageCode()}catch(e){return"en_US"}return void 0!==plex_l10n.transifex.href_lang_map[e]?plex_l10n.transifex.href_lang_map[e]:n.getUserLang()},n.setUserLang=function(e,t){if(null!=e){var n=PlexUtils.getCookieDomain();Cookies.set("plex_tv_lang",e,{domain:n,expires:365})}},n.languageSwitcher=function(){if(e(".header").is(":visible")){var t=n.getSavedLang(!0),i=e("#plex-language-bar");if(void 0===t||!t){var o=n.getUserLang(!0);if("en_US"!==o&&Transifex.live.hasTargetLanguage(o)&&Transifex.live.getLanguageName(o)&&void 0!==plex_l10n.transifex.localized_urls[o]&&!function(e){return location.href.indexOf(plex_l10n.transifex.localized_urls[e])>=0}(o)){i.find(".site-language-switch").on("click",function(){n.setUserLang(o),i.slideUp()}).attr("href",plex_l10n.transifex.localized_urls[o]),i.find(".dismiss-language-switch").on("click",function(){return n.setUserLang("en_US"),i.slideUp(),PlexSite.repositionHamburguerNav(!1,i[0].offsetHeight+15),!1});var a=Transifex.live.getLanguageName(o);a&&i.find(".site-language-switch-language").text(a),e(document).ready(function(){PlexSite.repositionHamburguerNav(!0,i[0].offsetHeight+15)}),i.show()}}}},n.botCheck=function(){return/bot|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent)},n}()),"undefined"!=typeof Transifex&&Transifex.live.onReady(function(){PlexLanguage.init(),plex_l10n.transifex.js_redirect&&PlexLanguage.maybeRedirect(),PlexLanguage.languageSwitcher(),jQuery.tooltipster&&jQuery(".lang-selector .tooltip").tooltipster({trigger:"click",interactive:!0}),jQuery(document).on("click","#tip-languages a",function(){var e=jQuery(this).parent().data("code");void 0!==e&&e&&PlexLanguage.setUserLang(e)})})}(jQuery,window),function(e,t){var n={className:"lazy",init:function(e,t,i){e=e||!1,n.className=t||n.className;var o=document.querySelectorAll("."+n.className);if(void 0===i)var i={rootMargin:"450px 0px"};n.observe(o,e,i)},observe:function(i,o,a){if(o=o||!("IntersectionObserver"in t)||!1)for(var r=0;r<i.length;r++){var s=i[r];n.applyImage(s)}else for(var l=new IntersectionObserver(function(t,i){for(var o=0;o<t.length;o++){var a=t[o];if(a.isIntersecting){var r=n.applyImage(a.target);r.classList.remove(n.className),i.unobserve(r),e.event.trigger("PlexLazyLoad",r)}}},a),r=0;r<i.length;r++){var s=i[r];l.observe(s)}},applyImage:function(e){return e.getAttribute("data-src")?(e.setAttribute("sizes",e.getAttribute("data-sizes")),e.setAttribute("srcset",e.getAttribute("data-srcset")),e.setAttribute("src",e.getAttribute("data-src")),e.onload=function(){e.classList.add("js-loaded"),e.classList.add("fade-in"),e.removeAttribute("data-src"),e.removeAttribute("data-srcset"),e.removeAttribute("data-sizes")}):e.classList.add("js-loaded","fade-in"),e.classList.contains("animate-area")&&setTimeout(function(){e.classList.remove("fade-in")},550),e}};e(document).on("plex_site_init userStateChange",function(e){n.init()})}(jQuery,window),function(e,t){"undefined"==typeof PlexUtils?t.PlexUtils=function(){var n={},i={staging1:"https://staging1.plex.tv",staging2:"https://staging2.plex.tv",staging3:"https://staging3.plex.tv",stagingtv:"https://stagingtv.plex.tv",plex4:"https://staging1.plex.tv",development:"https://staging2.plex.tv"},o={staging1:"https://staging1-webloader.plex.tv",staging2:"https://staging2-webloader.plex.tv",staging3:"https://staging3-webloader.plex.tv",stagingtv:"https://stagingtv-webloader.plex.tv",plex4:"https://staging1-webloader.plex.tv",development:"https://staging2-webloader.plex.tv"},a={iOS:"https://itunes.apple.com/us/app/plex/id383457673?mt=8",Android:"https://play.google.com/store/apps/details?id=com.plexapp.android","Windows Phone":"https://www.microsoft.com/en-us/store/apps/plex/9wzdncrfj3q8"},r=0;return n.isDevelopment=function(){var t=e(location).attr("hostname");return new RegExp(/((\/\/(.*?)|)(staging|plex4).*?plex\.tv)/).test(t)||n.isLocalDevelopment()},n.isLocalDevelopment=function(){var t=e(location).attr("hostname");return new RegExp(/((\/\/(\S+\.)*|)plex\.(dev|test))/).test(t)},n.getDeviceWidth=function(){return t.innerWidth>0?t.innerWidth:screen.width},n.getAPIUrl=function(){var e="https://plex.tv";return n.isDevelopment()&&(e=n.getCurrentStagingAPIUrl()),e},n.getWebUrlBase=function(){var e="https://app.plex.tv";return n.isDevelopment()&&(e=n.getCurrentWebStagingAPIUrl()),e},n.getResetPasswordUrl=function(){return n.getWebUrlBase()+"/auth#?resetPassword"},n.getWebUrl=function(){var e="/desktop";return PlexUser.hasRole("ninja")&&(e+="-ninja"),n.getWebUrlBase()+e},n.getMusicUrl=function(){var e="/desktop";return PlexUser.hasRole("ninja")&&(e+="-ninja"),e+="#!/media/tv.plex.provider.music?key=%2Fhubs%2Fsections%2Ftidal&pageType=hub&context=content.tidal&source=tidal",n.getWebUrlBase()+e},n.getAdminUrl=function(){return n.getAPIUrl()+"/admin"},n.getCurrentStagingAPIUrl=function(){var e=Cookies.get("plex_tv_staging_url");return void 0!==e&&null!==e||(e=n.getDefaultStagingUrl()),e},n.getCurrentStagingEnv=function(){return e(location).attr("hostname").split("-")[0]},n.getCurrentWebStagingAPIUrl=function(){var e=n.getCurrentStagingEnv(),t=Cookies.get("plex_tv_staging_web_url");return void 0!==t&&null!==t||(t=n.isLocalDevelopment()?o.development:o[e]),t},n.getApplicableAppStoreURL=function(){var e=!1;return"iOS"!==platform.os.family&&"Android"!==platform.os.family&&"Windows Phone"!==platform.os.family||(e=a[platform.os.family]),e},n.setCurrentStagingAPIUrl=function(e){Cookies.set("plex_tv_staging_url",e)},n.setCurrentStagingWebAPIUrl=function(e){Cookies.set("plex_tv_staging_web_url",e)},n.getStagingUrls=function(){var e={development:"http://api.plex.test"};if(!n.isLocalDevelopment()){var t=n.getCurrentStagingEnv();e[t]=i[t]}return e},n.getDefaultStagingUrl=function(){var e=n.getCurrentStagingEnv(),t=i[e];return n.isLocalDevelopment()&&(t=i.development),t},n.isSecure=function(){return-1!==location.protocol.indexOf("https")},n.isMobile=function(){var e=!1;return"iOS"!==platform.os.family&&"Android"!==platform.os.family&&"Windows Phone"!==platform.os.family||(e=!0),e},n.getIP=function(){return e.ajax({dataType:"json",url:"https://api.ipify.org/?format=json",timeout:5e3})},n.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.isReturningWebApp=function(){return document.referrer.indexOf(n.getWebUrlBase())>=0},n.GetURLParameter=function(e,n){var i=t.location.search.substring(1);if(n=void 0===n||n,!i&&n){var o=t.location.href.split("?");o.length>1&&(i=o[1])}for(var a=i.split("&"),r=0;r<a.length;r++){var s=a[r].split("=");if(s[0].toLowerCase()===e.toLowerCase())try{return decodeURIComponent(s[1])}catch(e){return s[1]}}},n.getParam=function(e){return n.GetURLParameter(e)},n.getParamsFromStringURL=function(e){for(var t={},n=[],i=e.replace(/^\?/,"").split("&"),o=0;o<i.length;o++)n=i[o].split("="),t[n[0]]=n[1];return t},n.getURLHash=function(){return void 0!==t.location.hash?t.location.hash:""},n.getPageForURL=function(e){e=void 0!==e?e:t.location.pathname;var n=e.replace(/\/$/,"");return n.substring(n.lastIndexOf("/")+1)},n.removeParam=function(e,n){n||(n=t.location.href);var i=n.split("#"),o=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return i[0].match(o)&&(n=i[0].replace(o,"$1"),n=n.replace(/([?&])$/,""),void 0!==i[1]&&null!==i[1]&&(n+="#"+i[1])),n},n.buildURLParams=function(e){var t="";for(var n in e)""!=t&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t},n.setURLParameter=function(e,t,n){var t=encodeURIComponent(t),n=encodeURIComponent(n),i="",o=e.indexOf("#")>=0?e.substring(e.indexOf("#")):"";o&&(e=e.replace(o,""));var a=e.split("?")[0],r=t+"="+n,s="?"+r;if(void 0!==e.split("?")[1]&&(i="?"+e.split("?")[1]),i){var l=new RegExp("([?&])"+t+"[^&]*"),c=new RegExp("([?&])"+t+"=[^&;]+[&;]?");void 0===n||null===n||""===n?(s=i.replace(c,"$1"),s=s.replace(/[&;]$/,"")):s=null!==i.match(l)?i.replace(l,"$1"+r):""==i?"?"+r:i+"&"+r}return s="?"===s?"":s,e=a+s+o},n.appendParamToURLString=function(e,n){var i="",o="",a="";return void 0!==n&&void 0!==n.href&&n.href?(i=n.href,o=n.search,a=n.hash):(i=t.location.href,o=t.location.search,a=t.location.hash),i=i.replace(/#$/,""),o&&o.indexOf(e)>=0?i:(o?i=i.replace(o,o+"&"+e):(e="?"+e,a?i=i.replace(a,e+a):i+=e),i)},n.appendParamToURL=function(e){var i=n.appendParamToURLString(e);t.history.replaceState({},"",i)},n.setCache=function(e,t,n){var i=moment().add(n,"m").unix(),o={expiration:i,value:t};try{sessionStorage.setItem(e,JSON.stringify(o))}catch(e){return console.warn("Your browser doesn't support session storage."),!1}return!0},n.clearSessionCache=function(e){try{void 0!==e?sessionStorage.removeItem(e):sessionStorage.clear()}catch(e){console.warn("Your browser doesn't support session storage.")}},n.getCache=function(e,t){void 0===t&&(t=!1);var n=null;try{n=sessionStorage.getItem(e),null!==n&&(n=JSON.parse(n),n.expiration<moment().unix()?(sessionStorage.removeItem(e),n=null):t||(n=n.value))}catch(e){console.warn("Your browser doesn't support session storage."),n=null}return n},n.getCookieDomain=function(){var t=".plex.tv",i=e(location).attr("hostname"),o=new RegExp(/((\/\/(\S+\.)*|)plex\.dev)/);return n.isLocalDevelopment()&&(t=".plex.test",o.test(i)&&(t=".plex.dev")),t},n.getForward=function(e){void 0===e&&(e=!1);var t=e?"ext_forward":"forward",i=n.getParam(t);if(void 0!==i)return decodeURIComponent(i);var o=sessionStorage.getItem(t);return void 0!==o&&null!==o&&(i=o),void 0!==i?decodeURIComponent(i):i},n.saveForward=function(){var e=n.getParam("forward"),t=n.getParam("external_forward")||n.getParam("externalForward");try{void 0!==e&&sessionStorage.setItem("forward",e),void 0!==t&&sessionStorage.setItem("ext_forward",t)}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},n.clearForward=function(){try{sessionStorage.removeItem("forward"),sessionStorage.removeItem("ext_forward")}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},n.extend=function(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},n.redirect=function(e){var i=n.getForward(),o=n.getForward(!0),a=new RegExp("^(?:[a-z]+:)?//","i"),r=new RegExp("^/","i"),s="";if(s=n.isLocalDevelopment()?new RegExp(/(\/\/(\S+\.)*plex\.(dev|test|tv)(:\d+)?($|\/))/):new RegExp(/(\/\/(\S+\.)*plex\.tv(:\d+)?($|\/))/),void 0!==i)e=i,"web"===e.toLowerCase()&&(e=n.getWebUrl()),a.test(i)&&!s.test(i)&&(e="/");else if(void 0!==o){e=o;try{t.history.replaceState({},"Plex Media Server",t.location.origin+t.location.pathname)}catch(e){console.log("couldn't change the referer before the redirect")}a.test(o)?s.test(o)||(e="/"):e=n.getAPIUrl()+o}if(void 0===e)e="/";else if("/"!==e){var l=!1;if(r.test(e))l=!0;else if(a.test(e)){var c=document.createElement("a");c.href=e;var u=new RegExp(/^https:\/\/([^\/]+[.])?(?:plex\.(tv|test)|tidal\.com)(\/.*)?$/);l=u.test(c.protocol+"//"+c.hostname)}l||(e="/")}n.clearForward(),t.location.href=e},n.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},n.reCaptchaReset=function(){try{grecaptcha.reset()}catch(e){}},n.reCaptcha=function(e,t,i,o){n.reCaptchaInternal(e,t,i,o)},n.reCaptchaAPI=function(t,i,o,a,s){grecaptcha.ready(function(){grecaptcha.execute(t.site_key,{action:i}).then(function(i){r++;var l={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":Plex.getAuthToken()},c={token:i};e.ajax({dataType:"json",type:"POST",url:n.getAPIUrl()+"/api/v2/captchas/verify",headers:l,data:c}).always(function(n){Plex.debugLog()&&(console.log("reCaptcha result"),console.log(n),console.log("Retries = "+r),console.log("Max Retries = "+t.min_retries)),void 0!==n.score&&n.score<t.threshold||void 0!==t.min_retries&&r>t.min_retries?(void 0!==s&&e(s).text("Please check the reCAPTCHA ..."),grecaptcha.render(document.getElementById("recaptcha"),{sitekey:t.site_key_v2,"expired-callback":a,callback:function(e){o(!0)}})):o(!0,!0)})})})},n.reCaptchaInternal=function(t,n,i,o){grecaptcha.ready(function(){grecaptcha.execute(t.site_key,{action:"checkout"}).then(function(a){r++;var s={"X-WP-Nonce":t.nonce},l={token:a};e.ajax({dataType:"json",type:"GET",url:t.endpoint,headers:s,data:l}).always(function(a){Plex.debugLog()&&(console.log("reCaptcha result"),console.log(a),console.log("Retries = "+r),console.log("Max Retries = "+t.min_retries)),void 0!==a.data&&a.data.score<t.threshold||void 0!==t.min_retries&&r>t.min_retries?(void 0!==o&&e(o).text("Please check the reCAPTCHA ..."),grecaptcha.render(document.getElementById("recaptcha"),{sitekey:t.site_key_v2,"expired-callback":i,callback:function(e){n(!0)}})):n(!0,!0)})})})},n.toggleReCaptcha=function(t){"show"===t?e(".g-recaptcha").show():e(".g-recaptcha").hide()},n.showErrorsOnForm=function(t,n){e.each(this.validElements(),function(t,n){var i=e(n).parent(),o=i.find(".icomoon"),a="icon-form-success";i.find(".field-error").html("").hide(),i.hasClass("no-checkmark")&&(a=o.data("original-icon")),o.removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass(a),i.removeClass("input-field-error").addClass("input-field-success")}),e.each(n,function(t,n){var i=e(n.element).parent();i.find(".icomoon").removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass("icon-form-error"),i.find(".field-error").html(n.message).show(),i.removeClass("input-field-success").addClass("input-field-error")})},n}():console.log("PlexUtils is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"undefined"==typeof PlexFlags?t.PlexFlags=function(){var t={},n=null,i={music:"e7cea823-02e5-48c4-a501-d37b82bf132f"},o=plex_l10n.feature_flags_active,a=plex_l10n.feature_flags_actions;return t.getFeaturesTree=function(){var e=PlexUtils.getCache("plex_features_tree");return Plex.debugLog()&&null!==e&&PlexUtils.getParam("feature_flag")&&(PlexUtils.getParam("feature_flag"),e[i[PlexUtils.getParam("feature_flag")]]=!0),e},t.refreshFeaturesTree=function(i){var o=e.Deferred();if(!t.activeFeatureFlags())return o.resolve();if(i=void 0!==i&&i,i&&PlexUtils.clearSessionCache("plex_features_tree"),void 0!==(n=t.getFeaturesTree())&&null!==n)return o.resolve(n);var a={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(a["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:a,url:PlexUtils.getAPIUrl()+"/api/v2/features.json",crossDomain:!0}).always(function(t,i){n={},"error"!==i?(e.each(t,function(e,t){n[t.uuid]=!0}),PlexUtils.setCache("plex_features_tree",n,10),o.resolve(n)):o.resolve(),Plex.debugLog()&&console.log("Updated features tree")}),o.promise()},t.activeFeatureFlags=function(){return!(void 0===o||void 0===a||!o.length)},t.skipFeatureFlags=function(e){return e=void 0!==e?e:"",!(t.activeFeatureFlags()&&!(e&&o.indexOf(e)<0))},t.getFeatureState=function(e){if(t.skipFeatureFlags(e))return!0;var n=!1,i=t.getFeaturesTree();return null!==i&&i.hasOwnProperty(e)&&(n=i[e]),Plex.debugLog()&&console.log("Feature flag "+e+" state is "+n),n},t.getFeatureStateByType=function(e){return!!t.skipFeatureFlags(e)||void 0!==i[e]&&t.getFeatureState(i[e])},t.hasAccessToFeature=function(e){return t.getFeatureStateByType(e)},t.refreshUI=function(){t.skipFeatureFlags()||void 0!==a.selectors&&t.doUISelectors(a.selectors)},t.doUISelectors=function(n){e.each(n,function(n,i){var o="",r=e(i).data("groupDisplay");Plex.debugLog()&&console.log("Checking features flags UI selectors for "+n+" :: "+i),void 0!==r&&(o=e("."+r));var s=t.getFeatureStateByType(n);void 0!==a.alt_classes&&void 0!==a.alt_classes[r]&&t.doUIAltClasses(s,o,a.alt_classes[r]),s?e(i).not(":visible").fadeIn():e(i).hide()})},t.doUIAltClasses=function(e,t,n){var i=n.default,o=n.alt;Plex.debugLog()&&console.log("Checking UI alt classes for the feature"),t.removeClass(i+" "+o),e?t.addClass(i):t.addClass(o)},t.doUIAltClasses__=function(n){e.each(n,function(n,i){e.each(i,function(i,o){var a=o.default,r=o.alt,s=o.child_selectors;e(i).removeClass(a+" "+r),e(i).find(s).hasClass(s),t.getFeatureStateByType(n)?e(i).addClass(a):e(i).addClass(r)})})},t}():console.log("PlexFlags is already defined."),e(document).ready(function(){PlexView.addAfterRenderHook(function(){PlexFlags.refreshFeaturesTree().then(PlexFlags.refreshUI)})})}(jQuery,window),function(e,t){"undefined"==typeof PlexMetrics?t.PlexMetrics=function(){var n={},i=[],o=!1,a=function(){for(var e=t.location.search.substring(1),n=e.split("&"),i={},o=0;o<n.length;o++){var a=n[o].split("=");-1!==a[0].toLowerCase().indexOf("utm_")&&(i[a[0].replace("utm_","")]=decodeURIComponent(a[1]))}return i};return n.pushEvent=function(t,n,i){void 0===i&&(i={}),void 0!==n&&n||(n=function(){});e.extend(i,{event:t,eventCallback:n}),dataLayer.push(i),Plex.debugLog()&&(console.log("Pushed event "+t),console.log(i))},n.loadUTMParams=function(){var e=a(),t=PlexUtils.getCookieDomain();Object.keys(e).length>0&&(Cookies.set("plex_utm",e,{domain:t}),n.track("attribution","marketing"))},n.moveUTMParamsToGlobal=function(){var e=Cookies.getJSON("plex_utm"),t=PlexUtils.getCookieDomain();Cookies.remove("plex_utm"),"undefined"===e&&Cookies.remove("plex_utm",{domain:t}),void 0!==e&&"undefined"!==e&&""!==e&&null!==t&&Cookies.set("plex_utm",e,{domain:t})},n.getUTMParams=function(){var e=Cookies.getJSON("plex_utm");return void 0!==e&&"undefined"!==e&&""!==e&&null!==e?e:{}},n.track=function(e,t,a,r){o?n.execTrackMetric(e,t,a,r):i.push({category:e,action:t,options:a})},n.execTrackMetric=function(t,i,o,a){void 0===o&&(o={}),void 0===a&&(a=function(){});var r={userId:Plex.isSignedIn()?Plex.getAuthInfo().id:null,deviceIdentifier:Plex.getClientIdentifier(),event:"client:"+t,interaction:!0,properties:{page:i,context:e(location).attr("origin")+e(location).attr("pathname")},context:{campaign:n.getUTMParams(),device:{product:e(location).attr("hostname"),platform:platform.name,platformVersion:platform.version,device:platform.os.family}}},s=e.extend(!0,r,o);e.ajax({type:"POST",url:PlexUtils.isDevelopment()?"https://analytics-stage.plex.tv/collect/event":"https://analytics.plex.tv/collect/event",contentType:"application/json",data:JSON.stringify(s),error:function(e){Plex.debugLog()&&console.log("Couldn't track the plex metric "+t+":"+i)}}).always(function(){Plex.debugLog()&&(console.log("Pushed metric ..."),console.log(s)),a()})},n.execAllMetricEvents=function(){o=!0,e.each(i,function(e,t){n.execTrackMetric(t.category,t.action,t.options)})},n.hasIterableData=function(){return!1!==n.getIterableCampaignId()&&!1!==n.getIterableTemplateId()},n.getIterableCampaignId=function(){return Cookies.get("iterableEmailCampaignId")||!1},n.getIterableTemplateId=function(){return Cookies.get("iterableTemplateId")||!1},n}():console.log("PlexMetrics is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"undefined"==typeof Plex?t.Plex=function(){var t={},n={},i=plex_l10n.pages.signin,o=plex_l10n.pages.signup,a=!1,r=!1,s=["pass","tidal"],l={regular:"currency",tidal:"country"};return t.Tidal={plansFree:{hifi_bundle:"Tidal Hifi",premium_bundle:"Tidal Premium",hifi_bundle_trial:"Tidal Hifi Trial",premium_bundle_trial:"Tidal Premium Trial"},plansPP:{hifi:"Tidal Hifi Add-On",premium:"Tidal Premium Add-On",hifi_trial:"Tidal Hifi Trial Add-On",premium_trial:"Tidal Premium Trial Add-On",premium_addon_trial:"Tidal Premium Add-On Trial",hifi_addon_trial:"Tidal HiFi Add-On Trial"},getFreePlans:function(){return Object.keys(this.plansFree)},getPPPlans:function(){return Object.keys(this.plansPP)},getAllPlans:function(){return this.getFreePlans().concat(this.getPPPlans())},validPlans:function(e){return!(this.getAllPlans().indexOf(e)<0)&&(t.hasActivePlexPass()?this.getPPPlans():this.getFreePlans())},isAddOn:function(e){return t.Tidal.getPPPlans().indexOf(e)>=0},isBundle:function(e){return t.Tidal.plansFree().indexOf(e)>=0}},t.debugLog=function(){return PlexUtils.isDevelopment()||PlexUtils.isLocalDevelopment()||plex_l10n.js_debug_log},t.signInGuard=function(e){return!!t.isSignedIn()||(void 0!==e?(t.signUpRedirect(),!1):(t.signInRedirect(),!1))},t.getSignInPage=function(e){return e=void 0!==e?e:"",i+e},t.getSignUpPage=function(e){return e=void 0!==e?e:"",o+e},t.setIsSigninIn=function(e){var n=t.isSignedIn();e=void 0===e||e,a=e,n!==e&&PlexTemplating.userStateChanged()},t.isSigninIn=function(){return a},t.isSignedIn=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),void 0!==Cookies.get("plex_tv_auth")}return!!e},t.signInRedirect=function(e){e=void 0!==e&&e?e:location.href,PlexUtils.redirect(t.getSignInPage("/?forwardUrl="+encodeURIComponent(e)))},t.signUpRedirect=function(e){e=void 0!==e&&e?e:location.href,PlexUtils.redirect(t.getSignUpPage("/?forwardUrl="+encodeURIComponent(e)))},t.getClientIdentifier=function(){var e=!1;return void 0===Cookies.get("plex_tv_client_identifier")?(e=PlexUtils.guid(),t.setClientIdentifier(e)):e=Cookies.get("plex_tv_client_identifier"),e},t.setClientIdentifier=function(e){Cookies.set("plex_tv_client_identifier",e,{expires:3650,sameSite:"Strict"})},t.getAuthInfo=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),null}return e?JSON.parse(e):(void 0!==(e=Cookies.getJSON("plex_tv_auth"))&&(t.setAuthInfo(e),Cookies.remove("plex_tv_auth")),e)},t.isRefreshingInfo=function(e){var t=void 0!==e,n=!0;return t&&(n=PlexUtils.isReturningWebApp()||PlexUtils.getAPIUrl()),"1"===PlexUtils.getParam("refreshInfo")&&n},t.getAuthToken=function(){var e=t.getAuthInfo();if(void 0!==e)return e.authToken},t.checkTokenExpiration=function(){var e=t.getAuthInfo();e&&void 0!==e.expires_at&&moment.unix(e.expires_at)<moment().unix()&&t.removeAuthInfo()},t.setAuthInfo=function(n,i){t.clearCachedPricing(),t.isSignedIn()||PlexView.setRunHooks(!0),n.lstorage_at=moment().unix(),!0===i&&(n.expires_at=moment.unix(n.lstorage_at).add(14,"days").unix());try{localStorage.setItem("plex_tv_auth",JSON.stringify(n)),t.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUser.cacheSubscriptions(n.subscriptions),PlexFlags.refreshFeaturesTree(!0).always(function(){(PlexView.refreshView()||PlexView.runViewHooks())&&PlexView.refresh()}),t.setIsSigninIn(!1),PlexTemplating.userStateChanged(),e(document).trigger("userStateChange")},t.removeAuthInfo=function(n){n=void 0!==n&&n,t.isSignedIn()&&PlexView.setRunHooks(!0);try{localStorage.removeItem("plex_tv_auth"),t.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUtils.clearSessionCache(),PlexUser.clearSubscriptions(),PlexFlags.refreshFeaturesTree(!0).then(function(){!PlexView.refreshView()&&!PlexView.runViewHooks()||n||PlexView.refresh()}),PlexTemplating.userStateChanged(),e(document).trigger("userStateChange")},t.hasActivePlexPass=function(){return t.debugLog()&&PlexUtils.getParam("plexpass")?Boolean(parseInt(PlexUtils.getParam("plexpass"))):!!t.getAuthInfo()&&t.getAuthInfo().subscription.active},t.hasActiveMusicPass=function(e){return t.debugLog()&&PlexUtils.getParam("musicpass")?Boolean(parseInt(PlexUtils.getParam("musicpass"))):(e=void 0!==e?e:"tidal",t.hasActiveTidalSubsc()&&!t.hasActivePlexPass())},t.hasActiveTidalSubsc=function(n){if(t.debugLog()&&PlexUtils.getParam("tidal"))return Boolean(parseInt(PlexUtils.getParam("tidal")));n=void 0!==n?n:"tidal";var i=!1;return e.each(t.Tidal.getAllPlans(),function(e,o){if(i=t.findActiveSubscriptionType(n,o))return!1}),Boolean(i)},t.hasExpiredTrial=function(e){var n=t.getAuthInfo();if(void 0!==n){var i=n.trials;return void 0===i&&(i=[]),t.debugLog()&&PlexUtils.getParam("simulTrialEnd")&&i.push(PlexUtils.getParam("simulTrialEnd")),i.indexOf(e)>=0}return!1},t.hasLinkedProvider=function(e){return!1!==t.getLinkedProviderPlan(e,"subscriptionType")},t.getExperiment=function(){var n=Cookies.get("_gaexp");if(t.debugLog()&&PlexUtils.getParam("experiment")&&(n=PlexUtils.getParam("experiment")),n){var i=n.split("!"),o=[];return e.each(i,function(e,t){var n=t.split(".");n={ID:n[2],variantID:n[4]},o.push(n)}),o}return!1},t.experimentExists=function(e){if(!e)return!1;var n=e.split(",");return t.getExperiment().filter(function(i){return t.debugLog()&&(console.log("EXPERIMENT"),console.log(i),console.log("MATCHING IDS:"+e),console.log("DOES IT MATCH experiment = "+i.ID+" => "+(n.indexOf(i.ID)>=0&&"0"!=i.variantID?"YES":"NO"))),n.indexOf(i.ID)>=0&&"0"!=i.variantID}).length>0},t.altPlans=function(){if(void 0!==plex_l10n.plans.experiments.id&&void 0!==plex_l10n.plans.experiments.name)return!(!t.getExperiment()||!t.experimentExists(plex_l10n.plans.experiments.id)||"tidal_alt_prices"!==plex_l10n.plans.experiments.name)&&(t.debugLog&&console.log("Use Alt Pricing"),plex_l10n.plans.experiments.name)},t.loadPlans=function(i,o){var a=e.Deferred(),r={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":t.getClientIdentifier()},s={};if(o=void 0!==o&&o,"regular"!==i){s.feature=i;var l=t.altPlans();l&&(s.experiment=l)}t.isSignedIn()&&(r["X-Plex-Token"]=t.getAuthToken());var c=PlexUtils.getAPIUrl()+"/api/v2/subscriptions/plans.json?all=true";return o&&"country"!==t.getPlansFeatureIndex(i)&&(c=PlexUtils.getAPIUrl()+"/api/subscriptions/plans.json"),e.ajax({dataType:"json",type:"GET",headers:r,url:c,crossDomain:!0,data:s}).done(function(r){if(n[i]=r,o){if("country"===t.getPlansFeatureIndex(i)){var s=t.debugLog()&&PlexUtils.getParam("country_code")?PlexUtils.getParam("country_code"):n[i].defaultCountry,l=n[i].prices[s];if(void 0!==n[i].prices[s]){var l=n[i].prices[s],c=n[i].formattedPrices[s],u=[];e.each(Object.keys(l),function(e,t){"meta"!==t&&u.push({id:t,name:"Monthly",price:l[t],currency:l.meta.currency,formattedPrice:c[t]})}),n[i]=u}else n[i]="not_available"}PlexUtils.setCache("pricesData"+i,n[i],30)}a.resolve(r)}).then(null,function(e){a.reject(e)}),a.promise()},t.loadPrices=function(i,o){var a=e.Deferred();return o=o||!1,t.altPlans()&&(o=!0),o||void 0!==n[i]&&null!==n[i]||(n[i]=PlexUtils.getCache("pricesData"+i)),o||null===n[i]&&"not_available"!==n[i]?t.loadPlans(i,!0):a.resolve()},t.maybeLoadPrices=function(n){n=n||!1;var i=function(t){e.event.trigger("pricesInit",[t])};if(e(".pp-price-feature[data-pp-price-feature]").length){e(".plans-na-error").hide();var o=[];e(".pp-price-feature[data-pp-price-feature]").each(function(){var t=e(this).data("pp-price-feature");-1===o.indexOf(t)&&o.push(t)});var a=0;e.each(o,function(r,s){t.loadPrices(s,n).then(function(){++a>=o.length&&i(s)}).fail(function(){e(".plans-na-error").show()})})}else i()},t.fillPrices=function(){e.each(n,function(t,i){if("not_available"===i)return!0;e.each(n[t],function(n,i){var o=(void 0!==t&&"pass"!==t?t+"-":"")+i.id,a=i.formattedPrice;e(".plex-price-"+o).html(a),e(".plex-price-"+o+".name").html(i.name),e(".plex-price-"+o+".price.discounted-price").html(a.replace(i.currency,"").trim()),e(".plex-price-"+o+".currencycode").html(i.currency)})})},t.clearCachedPricing=function(i){var o=function(e){t.debugLog()&&console.log("Resetting prices for: "+e),PlexUtils.clearSessionCache("pricesData"+e),n[e]=null};if(void 0!==i)return void o(i);e.each(s,function(e,t){o(t)})},t.getPlansFeatureIndex=function(e){return void 0===l[e]?l.regular:l[e]},t.getUSDPlansIndex=function(e){return"country"===e?"US":"USD"},t.canPurchasePlans=function(e){var t=PlexUtils.getCache("pricesData"+e);return null===t?void 0===n[e]||"not_available"!==n[e]:"not_available"!==t},t.getOtherActiveSubscPlan=function(){if(t.debugLog()&&PlexUtils.getParam("tidalsubsc"))return Boolean(parseInt(PlexUtils.getParam("tidalsubsc")));var n=PlexUser.getSubscriptionsInfo();if(void 0===n||!n.length)return!1;var i=!1;return e.each(plex_l10n.plans.tidal,function(e,n){if(t.findActiveSubscriptionType("tidal",n.id))return i=n,!1}),i},t.checkPendingSubscription=function(n){var i=e.Deferred(),o=t.findPendingSubscriptionType(n);return null!==o?t.getSubscriptionStatus(o.id):i.resolve()},t.findSubscriptionType=function(t,n,i){var o=PlexUser.getSubscriptionsInfo(),a=null;return i=void 0!==i?i:"active",n=void 0!==n?n:"any",e.each(o,function(e,o){return void 0!==o.type&&(o.type===t&&("any"!==i&&o.state===i||"any"===i)?("any"!==n&&n!==o.mode||(a=o),!1):void 0)}),a},t.findActiveSubscriptionType=function(e,n){return t.findSubscriptionType(e,n,"active")},t.findPendingSubscriptionType=function(e,n){return t.findSubscriptionType(e,n,"pending")},t.getActiveSubscriptionType=function(e,n){var i=t.findActiveSubscriptionType(e)||!1;return i&&void 0!==i[n]?i[n]:i},t.getLinkedProviderPlan=function(n,i){if(t.debugLog()&&PlexUtils.getParam("simulLinkedProvider"))return PlexUtils.getParam("simulLinkedProvider");if(t.getActiveSubscriptionType(n,"mode"))return!1;var o=t.getAuthInfo();if(void 0!==o){var a=o.providers;void 0===a&&(a=[]),t.debugLog()&&PlexUtils.getParam("simulLinkedProvider")&&a.push(PlexUtils.getParam("simulLinkedProvider"));var r=e.grep(a,function(e,t){return e.id===n})
;if(r.length&&void 0!==r[0][i]&&r[0][i])return r[0][i]}return!1},t.subscriptionGuard=function(){return t.isSignedIn()?!t.getAuthInfo().subscription.active:(t.signInRedirect(),!1)},t.getSubscriptionStatus=function(n){var i=e.Deferred();return e.ajax({dataType:"json",type:"GET",headers:{"X-Plex-Client-Identifier":t.getClientIdentifier(),"X-Plex-Token":t.getAuthToken()},url:PlexUtils.getAPIUrl()+"/api/v2/subscriptions/"+n,crossDomain:!0,xhrFields:{withCredentials:!0}}).always(function(e,t){var n=!1;"error"!==t&&void 0!==e.state&&(n=e),i.resolve(n)}),i.promise()},t.getSubscriptionAuthInfo=function(){var e=t.getAuthInfo();return{active:e.subscription.active,plan:e.subscription.plan,billing_cycle:e.subscription.plan,next_charge_time:""}},t.SSOSyncCookie=function(n){var i=PlexUtils.getCookieDomain(),o=e(location).attr("hostname");if(!r){var a={host:o,signedIn:t.isSignedIn(),token:t.getAuthToken()};a=JSON.stringify(a);try{a=btoa(a)}catch(e){}Cookies.set("_plex_tv_auth_sync",a,{domain:i,sameSite:"Strict"})}},t.SSOSync=function(){var n=PlexUtils.getCookieDomain(),i=e(location).attr("hostname"),o=Cookies.get("_plex_tv_auth_sync");if(void 0!==o&&o){try{o=JSON.parse(atob(o))}catch(e){o=JSON.parse(o)}if(void 0!==o.host&&void 0!==o.signedIn){var a=void 0!==o.token&&t.getAuthToken()!==o.token;i===o.host||t.isSignedIn()===o.signedIn&&!a||(Cookies.remove("_plex_tv_auth_sync",{domain:n}),Cookies.remove("plex_tv_auth_rem",{domain:n}),t.isSignedIn()!==o.signedIn&&t.removeAuthInfo(),PlexSignIn.loadSSO(),r=!0)}}},t}():console.log("Plex is already defined."),e(document).ready(function(){var t=0;PlexMetrics.pushEvent("SitePlexInit"),PlexUtils.saveForward(),PlexMetrics.moveUTMParamsToGlobal(),PlexMetrics.loadUTMParams(),PlexMetrics.execAllMetricEvents(),PlexMetrics.pushEvent("SitePlexAfterInit"),PlexSignIn.signInSSO(),PlexView.addAfterRenderHook(function(){Plex.maybeLoadPrices(),Plex.SSOSync(),Plex.checkTokenExpiration(),PlexUser.refreshAuthInfo()}),e(document).on("pricesInit",function(e,n){var i={canPurchaseTidalPlans:Plex.canPurchasePlans("tidal")};PlexView.renderAsync(i,t++,Plex.fillPrices)})})}(jQuery,window);var PlexVueInstance={},store=!1,getPlexCoreData=function(){return{isSigninOut:!1,isNewUser:window.PlexNewUser||!1,isSigninIn:Plex.isSigninIn(),isSignedIn:Plex.isSignedIn(),refreshInfo:Plex.isRefreshingInfo(),hasAdminPermissions:PlexUser.hasAdminPermissions(),apiURL:PlexUtils.getAPIUrl(),webURL:PlexUtils.getWebUrl(),musicURL:PlexUtils.getMusicUrl(),adminURL:PlexUtils.getAdminUrl(),user:Plex.getAuthInfo(),hasAccessToMusic:PlexFlags.hasAccessToFeature("music"),hasActivePlexPass:Plex.hasActivePlexPass(),hasActiveMusicPass:Plex.hasActiveMusicPass(),getActiveTidalPlan:Plex.getActiveSubscriptionType("tidal","mode"),hasActiveTidalSubsc:Plex.hasActiveTidalSubsc(),hasExpiredTidalTrial:Plex.hasExpiredTrial("tidal"),hasAnyStateTidalSubsc:PlexUser.hasAnyStateSubscription("tidal"),hasLinkedTidalProvider:Plex.hasLinkedProvider("tidal"),getLinkedTidalPlan:Plex.getLinkedProviderPlan("tidal","subscriptionType"),hasTidalPremiumBundle:PlexUser.hasSubscription("premium_bundle"),otherActiveSubscPlan:Plex.getOtherActiveSubscPlan(),canPurchaseTidalPlans:Plex.canPurchasePlans("tidal"),isProviderTransfer:PlexUtils.getParam("transfer"),options:{become:"1"===PlexUtils.getCache("become")}}},storeData=function(e){return e.state},PlexTemplateBase=function(e){this.el=e,this.data=function(){},this.dataHandler=[],this.store=store,this.watch={isSigninOut:function(e){this.isLoading=e},isSignedIn:function(e){var t=this;this.refresh=!0;var n=function(){t.isLoading=!1,t.isSigninOut=!1};!1===e?(this.isLoading=!0,setTimeout(n,200)):n()},isError:function(e){this.errorVisibility=e?"block":"none"},isLoading:function(e){this.loadingVisibility=e?"block":"none"}},this.updated=function(){this.show=!0,this.foundation&&jQuery(this.foundation).foundation()},this.methods={loadFeatureFlags:function(e){return PlexFlags.refreshFeaturesTree(!0)},setSigninOut:function(){this.isSigninOut=!0}},this.computed={getSignInState:function(){return this.$store.state.isSignedIn}},this.mounted=function(){console.log("teste mounted")},this.beforeMount=function(){var e=this;this.featureFlags&&this.loadFeatureFlags().then(function(){e.loadedFeatureFlags=!0})}},PlexTemplating={el:".plex-templating",customDirectives:["foundation","featureFlags"],$loader:null,templates:{},extend:{},hooks:{},updatedCallbacks:[],simulSignedIn:function(e){if(!Plex.debugLog)return!1;e=e||{},e=jQuery.extend(!0,{isSignedIn:!0},e),store.commit("simulState",e)},simulSignedOut:function(e){if(!Plex.debugLog)return!1;e=e||{},e=jQuery.extend(!0,{isSignedIn:!1},e),store.commit("simulState",e)},simulState:function(e){if(!Plex.debugLog)return!1;store.commit("simulState",e)},helperData:function(){return{show:!1,refresh:!1,isLoaded:!1,isLoading:!1,loadingVisibility:"none",isError:!1,errorVisibility:"none",foundation:!1,featureFlags:!1,loadedFeatureFlags:!1}},coreData:{},init:function(){var e=this,t=!1;store=new Vuex.Store({state:getPlexCoreData(),mutations:{simulState:function(n,i){n=jQuery.extend(!0,n,i),t=!0,e.userStateChanged(),t=!1},refresh:function(e){t||(e=Object.assign(e,getPlexCoreData()))}}}),this._init(store)},_init:function(e){var t=this;t.coreData=function(){return storeData(e)},jQuery.each(jQuery(this.el),function(e,n){var i=jQuery(n).attr("id"),o=jQuery(n).data("template"),a=jQuery(n).data(),r=i;o&&void 0!==t.extend[o]&&(r=o),t.templates[i]=new PlexTemplateBase("#"+i),jQuery.each(a,function(e,n){t.customDirectives.indexOf(e)>=0&&(void 0===t.templates[i].dataAtts&&(t.templates[i].dataAtts={}),n||(n=!0),t.templates[i].dataAtts[e]=n)}),void 0!==t.extend[r]&&(t.templates[i]=jQuery.extend(!0,t.templates[i],t.extend[r]))}),this._initVue()},_initVue:function(){var e=this;Vue.config.delimiters=["<%","%>"],Vue.config.devtools=PlexUtils.isDevelopment(),Vue.config.debug=PlexUtils.isDevelopment(),Vue.config.silent=!PlexUtils.isDevelopment(),jQuery.each(e.templates,function(t,n){e.maybeUpdateHelperData(n),e.registerDataHandler(e.helperData,t),e.registerDataHandler(e.coreData,t),n.data=e._getData(t),PlexVueInstance[t]=new Vue(n)})},maybeUpdateHelperData:function(e){if(void 0!==e.dataAtts){var t=this.helperData();jQuery.each(e.dataAtts,function(e,n){t[e]=n});var n=function(){return t};this.helperData=Object.assign(this.helperData,n)}},registerDataHandler:function(e,t){-1===this.templates[t].dataHandler.indexOf(e)&&this.templates[t].dataHandler.push(e)},_getData:function(e){var t=void 0!==this.templates[e].data?this.templates[e].data():{};return this.templates[e].dataHandler.map(function(e){t=jQuery.extend(!0,t,e())}),function(){return t}},_registerEvent:function(e,t){e=e.replace("addAfter",""),e=e.charAt(0).toLowerCase()+e.slice(1),void 0===this.hooks[e]&&(this.hooks[e]=[]),this.hooks[e].push(t)},_updateData:function(e){if(store){store.commit("refresh");var t=storeData(store);jQuery.each(PlexVueInstance,function(n,i){if("object"==typeof e){var o=Object.keys(e);jQuery.each(o,function(t,i){PlexVueInstance[n][i]=jQuery.extend(!0,PlexVueInstance[n][i],e[i])})}else jQuery.each(t,function(e,t){PlexVueInstance[n][e]=t})})}},updateData:function(e){this._updateData(e)},run:function(e){jQuery(this.el).length&&void 0!==this.hooks[e]&&this.hooks[e].map(function(e){jQuery(document).ready(function(){void 0!==e&&e&&e()})})},extendTemplate:function(e,t){this.extend[e]=t},userStateChanged:function(){this.updateData(),this.run("userStateChanged")},addAfterUserStateChanged:function(e){this._registerEvent("addAfterUserStateChanged",e)}};jQuery(document).ready(function(){PlexTemplating.init(),PlexTemplating.userStateChanged()}),function(e,t){"undefined"==typeof PlexView?t.PlexView=function(){var t={},n={},i={},o=[],a=[],r=[],s={},l={},c=!1,u=!1,d=!0;return Handlebars.registerHelper({eq:function(e,t){return e===t},ne:function(e,t){return e!==t},lt:function(e,t){return e<t},gt:function(e,t){return e>t},lte:function(e,t){return e<=t},gte:function(e,t){return e>=t},and:function(e,t){return e&&t},or:function(e,t){return e||t},not:function(e){return!e}}),Handlebars.registerHelper("iftrue",function(e,t,n){return e?t:n}),Handlebars.registerHelper("feature",function(e){return PlexUser.hasFeature(e)}),Handlebars.registerHelper("img",function(e){return"<img "+Object.keys(e.hash).map(function(t){return t+'="'+e.hash[t]+'"'}).join(" ")+"/>"}),t.init=function(e){t.loadViews(),t.initBeforeRenderHooks(),t.initAfterRenderHooks(),t.execHooks("once"),t.render(),void 0!==e&&e()},t.initBeforeRenderHooks=function(){a.push(function(){PlexUtils.isDevelopment()&&n.hasOwnProperty("navbar-staging")?(s.stagingUrls=PlexUtils.getStagingUrls(),s.currentStagingUrl=PlexUtils.getCurrentStagingAPIUrl()):delete n["navbar-staging"],s.become="1"===PlexUtils.getCache("become")})},t.initAfterRenderHooks=function(){r.push(function(){e(document).ready(function(){PlexUtils.isDevelopment()&&n.hasOwnProperty("navbar-staging")&&e("#plex-dd-stagingurl").change(function(t){var n=e(t.currentTarget).val();PlexUtils.setCurrentStagingAPIUrl(n),location.reload()})})})},t.addRenderOnceHook=function(t){o.push(function(){e(document).ready(function(){t()})}),c&&t()},t.addAfterRenderHook=function(t){r.push(function(){e(document).ready(function(){t()})}),c&&t()},t.execHooks=function(e){var t=[];"after"===e?t=r:"before"===e?t=a:"once"===e&&(t=o),t.map(function(e){e()})},t.loadViews=function(t){t=void 0!==t?t:".plexview-template";var o=e(t),a=null,r=null,s=null,l=null,c=null,u=e("<div/>");u.addClass("view-loading").css({display:"none"}),e.each(o,function(t,o){a=e(o),s=a.html(),c=a.data("view"),l=Handlebars.compile(s),n[c]=l,r=u.clone().attr("data-parent",c),e(".plexview-"+c).hasClass("async-load")&&(i[c]=l),e(".plexview-"+c).hide(),e(".dynamic-loading.plexview-"+c).after(r),a.remove()})},t.render=function(i){var o=e("<div/>");i=void 0!==i&&i,o.addClass("view-loading"),i||t.execHooks("before"),l={isSignedIn:Plex.isSignedIn(),isSigninIn:Plex.isSigninIn(),refreshInfo:Plex.isRefreshingInfo(),hasAdminPermissions:PlexUser.hasAdminPermissions(),apiURL:PlexUtils.getAPIUrl(),webURL:PlexUtils.getWebUrl(),musicURL:PlexUtils.getMusicUrl(),adminURL:PlexUtils.getAdminUrl(),resetPasswordUrl:PlexUtils.getResetPasswordUrl(),user:Plex.getAuthInfo(),hasAccessToMusic:PlexFlags.hasAccessToFeature("music"),hasActivePlexPass:Plex.hasActivePlexPass(),hasActiveMusicPass:Plex.hasActiveMusicPass(),getActiveTidalPlan:Plex.getActiveSubscriptionType("tidal","mode"),hasActiveTidalSubsc:Plex.hasActiveTidalSubsc(),hasExpiredTidalTrial:Plex.hasExpiredTrial("tidal"),hasAnyStateTidalSubsc:PlexUser.hasAnyStateSubscription("tidal"),hasLinkedTidalProvider:Plex.hasLinkedProvider("tidal"),getLinkedTidalPlan:Plex.getLinkedProviderPlan("tidal","subscriptionType"),hasTidalPremiumBundle:PlexUser.hasSubscription("premium_bundle"),otherActiveSubscPlan:Plex.getOtherActiveSubscPlan(),canPurchaseTidalPlans:Plex.canPurchasePlans("tidal"),isProviderTransfer:PlexUtils.getParam("transfer"),options:s},e.each(n,function(n,o){var a=!1;try{e(".plexview-"+n).html(o(l)),e(".view-loading[data-parent="+n+"]").hide(),i?(t.loading(n),e(".view-loading[data-parent="+n+"]").hide(200,function(){e(".dynamic-loading.plexview-"+n).fadeIn("slow")})):e(".plexview-"+n).hasClass("async-load")?a=!0:e(".plexview-"+n).fadeIn(),!a&&e(".plexview-"+n).hasClass("foundation-reinit")&&e(document).foundation()}catch(e){console.error("Error compiling "+n+" template."),console.error(e);var r=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+r+"</pre>")}}),i||t.execHooks("after"),c=!0},t.renderAsync=function(t,n,o){e.extend(l,t),e.each(i,function(t,i){var o=e(".plexview-"+t);try{o.html(i(l)),n?o.show():o.delay(500).fadeIn(),o.hasClass("foundation-reinit")&&e(document).foundation()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var a=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});return void document.write("<pre>"+a+"</pre>")}}),void 0!==o&&o()},t.loading=function(i){if(void 0!==i)return void t._loading(i);e.each(n,function(e,n){t._loading(e)})},t._loading=function(t){try{e(".dynamic-loading.plexview-"+t).hide(),e(".view-loading[data-parent="+t+"]").show(),e("[data-parent="+t+"]").fadeIn()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var n=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+n+"</pre>")}},t.cancelLoading=function(t){var n=e(".view-loading:visible");n.length&&setTimeout(function(){e(".view-loading").hide(),n.each(function(t,n){var i=e(n).data("parent");e(".plexview-"+i).fadeIn()})},1e3)},t.setRunHooks=function(e){u=e},t.runViewHooks=function(){return u},t.setRefreshView=function(e){d=e},t.refreshView=function(){return d},t.refresh=function(){var e=!t.runViewHooks();t.render(e)},t}():console.log("PlexView is already defined."),e(document).ready(function(){}),e(t).on("beforeunload",function(e){PlexView.cancelLoading()})}(jQuery,window),function(e,t){"undefined"==typeof PlexUser?t.PlexUser=function(){var t={};return t.hasRole=function(e){if(!Plex.isSignedIn())return!1;var t=[];return void 0!==Plex.getAuthInfo().roles&&(Array.isArray(Plex.getAuthInfo().roles)?t=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(t=Plex.getAuthInfo().roles.roles),-1!==t.indexOf(e))},t.hasFeature=function(e){return!!Plex.isSignedIn()&&-1!==Plex.getAuthInfo().subscription.features.indexOf(e)},t.hasAdminPermissions=function(){if(!Plex.isSignedIn())return!1;if(void 0===Plex.getAuthInfo().roles)return!1;var e=[],t=["admin","app_manager","user_admin","marketing_admin","employee"];return Array.isArray(Plex.getAuthInfo().roles)?e=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(e=Plex.getAuthInfo().roles.roles),e.reduce(function(e,n){return e||t.reduce(function(e,t){return e||t==n},!1)},!1)},t.getUser=function(t,n){t=t||{},n=n||Plex.getAuthToken();var i={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":n};return e.ajax({dataType:"json",type:"GET",headers:i,url:PlexUtils.getAPIUrl()+"/api/v2/user",data:t,crossDomain:!0})},t.refreshAuthInfo=function(t,n){if(Plex.isSignedIn()){if(n=void 0!==n&&n,Plex.isRefreshingInfo()){var i=PlexUtils.getPageForURL();if(i&&Plex.getSignInPage().indexOf(i)>=0&&!PlexUtils.isReturningWebApp()&&!PlexUtils.getAPIUrl())return;t=!0}var o=Plex.getAuthInfo();if(moment.unix(o.lstorage_at).add(2,"minute").unix()<moment().unix()||t){PlexView.setRefreshView(!1),t&&PlexView.setRunHooks(!1);var a=PlexUtils.getParam("become"),r=PlexUtils.getParam("unbecome");if("1"===a)return PlexUtils.setCache("become","1",600),o;if("1"===r)return PlexUtils.setCache("become",0,1),o;var s={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":Plex.getAuthToken()};e.ajax({dataType:"json",type:"GET",headers:s,url:PlexUtils.getAPIUrl()+"/api/v2/user",data:{includeSubscriptions:!0,includeProviders:!0},crossDomain:!0,success:function(e){var i=void 0!==e.rememberExpiresAt&&e.rememberExpiresAt;Plex.debugLog()&&console.log(e),i||n?Plex.setAuthInfo(e,i):(Plex.removeAuthInfo(),t||Plex.signInRedirect())},error:function(e){401!=e.status&&422!=e.status||(Plex.removeAuthInfo(),t||Plex.signInRedirect())}})}}},t.getActivePayment=function(){var t=e.Deferred(),n={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(n["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:n,url:PlexUtils.getAPIUrl()+"/api/v2/user/payment_method",crossDomain:!0}).done(function(e){t.resolve(e)}).fail(null,function(e){t.resolve(!1)}),t.promise()},t.getSubscriptions=function(){var n=e.Deferred(),i={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(i["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:i,url:PlexUtils.getAPIUrl()+"/api/v2/user/subscriptions",crossDomain:!0}).done(function(e){t.cacheSubscriptions(e),n.resolve(e)}).then(null,function(e){n.reject(e)}),n.promise()},t.getSubscriptionsInfo=function(){try{var e=localStorage.getItem("plex_tv_subsc");if(e)return JSON.parse(e)}catch(e){console.warn("Your browser doesn't support local storage.")}},t.hasAnyStateSubscription=function(e){return null!==Plex.findSubscriptionType(e,"any","any")},t.hasSubscription=function(n){var i=t.getSubscriptionsInfo();if(void 0===i)return!1;var o=e.grep(i,function(e,t){return e.mode===n});return o&&o.length>0},t.cacheSubscriptions=function(e){try{void 0!==e&&localStorage.setItem("plex_tv_subsc",JSON.stringify(e))}catch(e){console.warn("Your browser doesn't support local storage.")}},t.clearSubscriptions=function(){try{localStorage.removeItem("plex_tv_subsc")}catch(e){console.warn("Your browser doesn't support local storage.")}},t}():console.log("PlexUser is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){t.onerror=function(n,i,o,a,r){if(plex_l10n.js_error_log){var s={error:r,source:i,lineno:o,page_id:plex_l10n.post_id,location:t.location.href},l={"X-WP-Nonce":plex_l10n.errors.nonce};e.ajax({type:"POST",url:plex_l10n.errors.endpoint,data:s,headers:l,success:function(){console.error("Error detected. We were informed.")}},"json")}},PlexConditionizr.init(),"undefined"==typeof PlexSite&&(t.PlexSite=function(){var n=0,i={init:function(){i.featureFlagRedirects(),o.init(),i.wrapDropdowns(),i.statsRollIn(),i.higlightSubMenuItems(),i.smoothScrollBind(),a.init(),e.event.trigger({type:"plex_site_init"}),PlexMetrics.pushEvent("SiteInit"),i.SVGtoInline()},repositionHamburguerNav:function(e,t){var i=document.getElementsByClassName("hamburger")[0]||!1,o=document.getElementsByClassName("fat-nav__wrapper")[0]||!1;i&&(i.style.top=0,i.classList.remove("reposition"),e?(n+=t,i.classList.add("reposition")):n-=t,i.style.top=n+"px",o&&(o.style.top=n+"px"))},SVGtoInline:function(){e("img.svg").each(function(){var t=e(this),n=t.attr("id"),i=t.attr("class"),o=t.attr("src");e.get(o,function(o){var a=e(o).find("svg");void 0!==n&&(a=a.attr("id",n)),void 0!==i&&(a=a.attr("class",i+" replaced-svg")),a=a.removeAttr("xmlns:a"),!a.attr("viewBox")&&a.attr("height")&&a.attr("width")&&a.attr("viewBox","0 0 "+a.attr("height")+" "+a.attr("width")),t.replaceWith(a)},"xml")})},wrapDropdowns:function(){e(".sidebar [class*=widget_] select:not( [name=cat],.select-custom )").wrap('<div class="select-container"></div>'),e(".sidebar [class*=widget_] select[name=cat]").parent("form").addClass("select-container"),e(".ginput_card_expiration").wrap('<div class="select-container"></div>')},statsRollIn:function(){e(".count").each(function(){e(this).attr("Counter",0).animate({Counter:e(this).text()},{duration:1e3,easing:"swing",step:function(t){e(this).text(Math.ceil(t))}})})},higlightSubMenuItems:function(){e(".dynamic-submenu-item-highlight[data-bucket]").each(function(t,n){parseInt(plex_l10n.post_id)!==parseInt(e(n).data("bucket"))&&parseInt(plex_l10n.post_parent)!==parseInt(e(n).data("bucket"))||e(this).addClass("current-menu-item")})},displayPopUps:function(){parseInt(plex_l10n.is_page)},featureFlagRedirects:function(){PlexFlags.skipFeatureFlags()||void 0!==plex_l10n.feature_flags_actions.redirects&&e.each(plex_l10n.feature_flags_actions.redirects,function(t,n){PlexFlags.hasAccessToFeature(t)||e.each(n,function(e,t){if(parseInt(plex_l10n.post_id)===parseInt(e))return PlexUtils.redirect(t),!1})})},smoothScrollBind:function(){e.each(e('[href^="#"]:not("[data-smooth-scroll]")'),function(t,n){if(1===e(n).attr("href").length)return!0;var i=e(n).attr("href");e(i).length&&e(n).attr("data-smooth-scroll",i)}),e.each(e("[data-smooth-scroll]"),function(t,n){e(n).on("click",function(){i.scrollToHash(e(n).data("smooth-scroll"))})})},scrollToHash:function(t){var n=void 0!==t?t:location.hash;n&&n.length>1&&"#!"!==n.substring(0,2)&&"#?"!==n.substring(0,2)&&e(n).length&&e("html,body").animate({scrollTop:e(n).offset().top},700)},toggleDynamicMenuItems:function(){if(e(".menu-item.nav-item-toggable").show(),e(".menu-item.nav-item-toggable-hide").hide(),Plex.isSignedIn()?e(".menu-item.signed_in-hide").hide():e(".menu-item.signed_out-hide").hide(),Plex.hasActivePlexPass()&&Plex.hasActiveTidalSubsc()&&e(".menu-item.bundle_users-hide").hide(),Plex.hasActivePlexPass()&&e(".menu-item.plex_pass-hide").hide(),Plex.hasActiveTidalSubsc()&&e(".menu-item.tidal_subsc-hide").hide(),Plex.isSignedIn()){var t=PlexUser.getSubscriptionsInfo();void 0!==t&&t.length||e(".menu-item.free_users-hide").hide()}var n=["geolocation-continent-"+plex_l10n.geolocation.continent,"geolocation-country-"+plex_l10n.geolocation.country,"geolocation-region-"+plex_l10n.geolocation.region];e(".geolocation-hide").hide(),n.forEach(function(t){e(".geolocation-hide").filter("."+t+"-hide").show(),e(".geolocation-display").filter("."+t+"-display").show()})},displayOneTimePopUp:function(t){var n,i=e("[data-remodal-id=modal-"+t+"]"),o="plex_tv_cta_"+t;if(i.length){try{n=localStorage.getItem(o)}catch(e){n=Cookies.get(o)}if(void 0===n||null===n)try{i.remodal().open(),e(document).on("click",i.find(".icon-close"),function(){try{localStorage.setItem(o,1)}catch(e){return Cookies.set(o,1,{domain:PlexUtils.getCookieDomain()}),null}})}catch(e){}}}},o={isRequired:parseInt(plex_l10n.required_cookie_consent),isMobileConsent:!1,modalInst:!1,model:{GTMEvents:[],cookies:[]},cookies:{analytics:{key:"optin_analytics",event:"SiteAnalyticsConsentGiven"},thirdParty:{key:"optin_thirdparty",event:"SiteThirdPartyConsentGiven"}},init:function(){var n=e(".notification-bar.cookie-consent");if(t.PlexConsentEvents=[],t.PlexHasCookieConsent=function(e){return void 0!==t.PlexConsentEvents[e]},o.approved())return void o.runGTMEvents();o.isRequired&&(PlexUtils.getDeviceWidth()<=1024?(o.isMobileConsent=!0,o.modalInst=e(".notification-bar-mobile").remodal(),o.modalInst.open()):n.show()),o.initEvents(),o.bulkUpdateCookieOptions(!0)},runGTMEvents:function(){o.model.GTMEvents.forEach(function(n){PlexMetrics.pushEvent(n),e.event.trigger({type:n}),t.PlexConsentEvents.push(n),Plex.debugLog()&&console.log(n)})},updateSelectedCookies:function(e,t){t=t||"add";var n=o.model.cookies.indexOf(e);"add"===t&&n<0?o.model.cookies.push(e):"remove"===t&&n>=0&&o.model.cookies.splice(n,1),Plex.debugLog()&&console.log(o.model.cookies)},updateGTMEventsList:function(){e.each(Object.keys(o.cookies),function(e,t){var n=o.cookies[t].key;!o.isCookieSet(n)&&o.isRequired||o.model.GTMEvents.push(o.cookies[t].event)})},save:function(t){var n=PlexUtils.getCookieDomain();e.each(Object.keys(o.cookies),function(e,t){var i=o.cookies[t].key;Cookies.remove("plex_tv_"+i,{domain:n})}),o.model.cookies.forEach(function(e){var t="plex_tv_"+e;Cookies.set(t,1,{expires:365,domain:n})}),o.updateGTMEventsList(),t=void 0!==t&&t,t&&Cookies.set("plex_tv_cookie_consent",2,{expires:365,domain:n}),o.runGTMEvents()},isCookieSet:function(e){return"cookie_consent"===e?"2"==Cookies.get("plex_tv_"+e):void 0!==Cookies.get("plex_tv_"+e)},approved:function(){return o.updateGTMEventsList(),o.isRequired?o.isCookieSet("cookie_consent"):(Plex.debugLog()&&console.log("All cookies consented"),!0)},bulkUpdateCookieOptions:function(t,n){t=t||!1,e(".remodal-cookie-settings").find(".user-option[type=checkbox]").not('[data-option="required_cookies"]').each(function(i,a){var r=e(a).data("option"),s=void 0!==n?n:o.isCookieSet(r);e(a).is(":checked")!==s&&e("."+r+".user-option").trigger("click",[t])})},initEvents:function(){e(document).on("click",".cookie-consent-accept",function(){o.bulkUpdateCookieOptions(!1,!0),e(".cookie-settings-save").trigger("click")}),e(document).on("click",".cookie-settings-save",function(){e(".notification-bar.cookie-consent").slideUp(),o.isMobileConsent&&o.modalInst&&o.modalInst.close(),o.save(!0)}),e(document).on("PlexSettingToggle",function(e,t,n,i){i||(n?o.updateSelectedCookies(t):o.updateSelectedCookies(t,"remove"))}),e(document).on("PlexSettingClick",function(e,t){var n="accept_all_cookies"===t;o.bulkUpdateCookieOptions(!1,n)})}},a={init:function(){(new WOW).init(),a.preInitSlick(),a.initTooltips()},initTooltips:function(){e(".tooltip").tooltipster({theme:"tooltipster-shadow",minWidth:300,interactive:!0}),e(".tooltip-lang").tooltipster({theme:"tooltipster-shadow",maxWidth:275,interactive:!0,trigger:"click",position:"top"}),e(".tooltip-ota").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0}),e(".tooltip-pms").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0,functionReady:function(t,n){e(document).on("click",e(n.origin),function(){e(n.origin).tooltipster("close")})}}),e.fatNav()},preInitSlick:function(){if(e(".multiple-items, .hero-carousel, .press-carousel, .signup-hero-inside").length){!function(e){function t(e){throw new URIError("The script "+e.target.src+" didn't load correctly.")}var n=document.createElement("script");n.onerror=t,e&&(n.onload=e),document.head.appendChild(n),n.src=plex_l10n.path_to_js+"conditional/lib/slick.min.js"}(a.initSlick)}},initSlick:function(){e.event.trigger({type:"plex_slick_init"}),e(document).on("init",".slick-start-hidden",function(t,n){e(this).show()}),e(document).on("change.zf.tabs","#feature-tabs",function(t,n){e(".multiple-items.cards").slick("slickGoTo",0)}),e(t).scroll(function(){if(e(".multiple-items").not(".slider-playing").length){var n=e(".multiple-items").offset().top,i=e(t).height();e(this).scrollTop()>n-i&&e(".multiple-items").not(".slider-playing").addClass("slider-playing").slick("slickPlay")}}),e(document).on("change.zf.tabs",".tabs[data-tabs-slick], .tabs[data-tabs]",function(t,n){var i=n.find("a").attr("href"),n=e(i).find(".multiple-items");n.slick("setPosition"),n.find(".yolo").length<=4&&n.find(".slick-dots").hide()}),e(".multiple-items").slick({infinite:!0,slidesToShow:4,slidesToScroll:2,arrows:!1,dots:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1441,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:1025,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:641,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(".hero-carousel").slick({autoplay:!0,pauseOnHover:!0,dots:!0,arrows:!1,infinite:!0,speed:600,autoplaySpeed:6e3,slidesToShow:1}),e(".tabs[data-tabs-slick]").length||e(".slick-list").find(".slick-slide").length<=4&&e(".slick-list").closest(".slick-slider").find(".slick-dots").hide()}};return i}()),e(t).load(function(){PlexSite.scrollToHash()}),e(document).ready(function(){if(PlexView.init(),PlexSite.init(),PlexView.addAfterRenderHook(function(){PlexSite.toggleDynamicMenuItems(),PlexSite.displayPopUps()}),e(document).on("click",".has-subnav",function(t){var n=this,i=e("."+e(this).data("pulldown")),o=e("."+e(this).data("sectionhide"));e(".section-temp-hidden").removeClass("section-temp-hidden").show(),e(this).hasClass("open")||(e(".submenu-opened").hide(),e(".has-subnav").removeClass("open"));var a=function(t,n,i){var n=n||"submenu-active";e(".header, body").removeClass(n),o.length&&o.show().addClass("section-temp-hidden"),t&&(e(".header, body").addClass(n),i.addClass("submenu-opened"),o.length&&o.hide())};return e(this).toggleClass("open"),i.slideToggle(0,function(){a(e(this).is(":visible"),"submenu-active",e(this))}),e(document).on("click",function(t){t.target!==n&&(i.hide(a(!1,"submenu-active",i)),e(".has-subnav").removeClass("open"))}),t.preventDefault(),!1}),e("#back-to-top").length){var n=0,i=sessionStorage.getItem("plex_btt_closed"),o=e(".footer-main"),a=function(){e("#back-to-top").remove(),e("#btt-up").addClass("btt-closed"),i=!1},r=function(){var a=e(t).scrollTop();o.length&&(n=o.offset().top-1e3),a>600&&null===i&&e(".cta-float.btt-float").length?(e("#back-to-top").addClass("show"),n&&a>=n?(e("#back-to-top").removeClass("show"),e("#btt-up").addClass("btt-closed")):null===i&&e("#btt-up").removeClass("btt-closed")):e("#back-to-top").removeClass("show")};r(),e(t).on("scroll",function(){r()}),e(document).on("click","#btt-close",function(e){a(),sessionStorage.setItem("plex_btt_closed",1),e.preventDefault()}),e(document).on("click","#btt-up",function(t){t.preventDefault(),e("html,body").animate({scrollTop:0},700)})}e('a[href*="smart_link=1"]').each(function(){var t=e(this).attr("href"),n=PlexUtils.getApplicableAppStoreURL();n?e(this).attr("href",n):(t=t.replace("&smart_link=1",""),t=t.replace("?smart_link=1",""),e(this).attr("href",t))}),e(document).on("click",".scrollto",function(t){var n=e(this).data("anchor"),i=void 0!==e(this).data("speed")?e(this).data("speed"):500;t.preventDefault(),e("html, body").animate({scrollTop:e("#"+n).offset().top},i)}),Cookies.defaults={sameSite:"None",secure:!0},e(document).foundation(),plex_l10n.is_mobile&&FastClick.attach(document.body)})}(jQuery,window),function(e,t){"undefined"==typeof PlexCJ&&(t.PlexCJ=function(){var t={cookieName:"plex_tv_cj",trackingData:{PID:"",AID:"",SID:"",CJEVENT:""},init:function(){var e=PlexUtils.getParam("PID"),n=PlexUtils.getParam("AID"),i=PlexUtils.getParam("SID"),o=PlexUtils.getParam("cjevent");if(void 0===e||void 0===n)return void(Cookies.get(t.cookieName)&&(t.trackingData=Cookies.getJSON(t.cookieName)));var a=PlexUtils.getCookieDomain();t.trackingData={PID:e,AID:n,CJEVENT:o},void 0!==i&&(t.trackingData.SID=i),Cookies.set(t.cookieName,t.trackingData,{domain:a,expires:45})},trackSubscription:function(n,i){if(t.trackingData.AID){var o=n.amount;n.hasDiscount&&(o=n.fullPrice);var a={CID:1543155,type:396634,containerTagId:20910},r={ITEM1:n.plan,AMT1:o,QTY1:1,OID:i,CURRENCY:n.currency,CJEVENT:t.trackingData.CJEVENT};n.hasDiscount&&(r.DISCOUNT=n.discount,r.COUPON=n.value,n.trial&&(a.containerTagId=25966,a.type=400867,r.AMT1="0.00")),e.extend(a,r);var s="https://www.emjcd.com/tags/c?";Object.keys(a).map(function(e,t){s+=e+"="+a[e]+"&"}),document.getElementById("cj_conversion")&&(document.getElementById("cj_conversion").src=s)}}};return t}()),e(document).ready(function(){PlexCJ.init()})}(jQuery,window);